
```matlab
close all
clearvars -except mapCD
load RawData\'1T-TaS2(point defect)'\lattCoord.mat
addpath myFunction\myftn\
fn = 'RawData\1T-TaS2(point defect)\mapCD.mat';
loadif(fn);
```

```matlabTextOutput
fldNm = 1x1 cell array
    {'mapCD'}

Your variables are:

fldNm  fn     mt     
ans = 'already'
```

```matlab
addpath ..\..\..\gitTmp\
addpath D:\github\climsc\clim-scaling-Robust-Standard-Minmax\
```
# Masked FFT filter
## Cal
```matlab
iph = 1
```

```matlabTextOutput
iph = 1
```

```matlab
Z = mapCD.dt(iph).Z;
fZ = fft2(Z);
```
## graphic
```matlab
f_maskedFFT = figure(3);
f= f_maskedFFT;
msb = 2;
nsb = 3;
p = 0;
for isb = 1:msb
    for jsb = 1:nsb
        p = p + 1;
        sbs(isb,jsb)=subplot(msb,nsb,p)
    end
end
```

```matlabTextOutput
sbs = 
  Axes with properties:

             XLim: [0 1]
             YLim: [0 1]
           XScale: 'linear'
           YScale: 'linear'
    GridLineStyle: '-'
         Position: [0.1300 0.5838 0.2134 0.3412]
            Units: 'normalized'

  Show all properties

sbs = 
  1x2 Axes array:

    Axes    Axes

sbs = 
  1x3 Axes array:

    Axes    Axes    Axes

sbs = 
  2x3 graphics array:

    Axes                   Axes                   Axes               
    Axes                   GraphicsPlaceholder    GraphicsPlaceholder

sbs = 
  2x3 graphics array:

    Axes                   Axes                   Axes               
    Axes                   Axes                   GraphicsPlaceholder

sbs = 
  2x3 Axes array:

    Axes    Axes    Axes
    Axes    Axes    Axes

```

```matlab
sgtitle('filtered FFT')
```
### real space raw
```matlab
ax_raw_real = sbs(1,1);
f.CurrentAxes = ax_raw_real;
views(Z)
colormap(gray)
hold on
lattCoord.dt(iph).pBases
hold off
titlet('real space')
```
### reciprocal space
```matlab
f.CurrentAxes = sbs(1,2)
```

```matlabTextOutput
f = 
  Figure (3) with properties:

      Number: 3
        Name: ''
       Color: [1 1 1]
    Position: [423 230 560 337.3557]
       Units: 'pixels'

  Show all properties

```

```matlab
views(abs(fftshift(fZ)))
climsc([0 .001]).Minmax
```

```matlabTextOutput
ax = 
  Axes with properties:

             XLim: [0.5000 561.5000]
             YLim: [0.5000 621.5000]
           XScale: 'linear'
           YScale: 'linear'
    GridLineStyle: '-'
         Position: [0.4108 0.5838 0.2134 0.3412]
            Units: 'normalized'

  Show all properties

```

```matlab
titlet('FFT')
```
### fftMask
```matlab
f.CurrentAxes = sbs(1,3)
```

```matlabTextOutput
f = 
  Figure (3) with properties:

      Number: 3
        Name: ''
       Color: [1 1 1]
    Position: [423 230 560 337.3557]
       Units: 'pixels'

  Show all properties

```

```matlab
bin = ~ftCirc(size(Z),30)&ftCirc(size(Z),60)
```

```matlabTextOutput
bin = 561x621 logical array
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1   1

```

```matlab
views(fftshift(bin))
titlet('FFT mask')
```

maksedFFT

```matlab
f.CurrentAxes = sbs(2,3)
```

```matlabTextOutput
f = 
  Figure (3) with properties:

      Number: 3
        Name: ''
       Color: [1 1 1]
    Position: [423 230 560 337.3557]
       Units: 'pixels'

  Show all properties

```

```matlab
mskedFFT = fZ.*bin;
% views(bin)
abmskedFFT = abs(mskedFFT)
```

```matlabTextOutput
abmskedFFT = 561x621
1.0e+03 *

         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0265    0.0077    0.0288    0.0236    0.0304    0.0410    0.0341    0.0292    0.0438    0.0237    0.0197    0.0418    0.0369    0.0230    0.0228    0.0407    0.0169    0.0165    0.0090    0.0290
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0354    0.0241    0.0411    0.0094    0.0412    0.0028    0.0162    0.0303    0.0273    0.0503    0.0315    0.0351    0.0223    0.0096    0.0218    0.0364    0.0179    0.0186    0.0086    0.0163
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0359    0.0162    0.0538    0.0565    0.0324    0.0261    0.0403    0.0434    0.0751    0.0286    0.0222    0.0132    0.0513    0.0396    0.0245    0.0105    0.0270    0.0374    0.0163    0.0067
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0286    0.0433    0.0436    0.0224    0.0352    0.0244    0.0528    0.0157    0.0079    0.0211    0.0097    0.0428    0.0307    0.0038    0.0211    0.0493    0.0165    0.0155    0.0130    0.0229
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0205    0.0312    0.0120    0.0257    0.0223    0.0654    0.0348    0.0251    0.0188    0.0230    0.0189    0.0771    0.0757    0.0443    0.0272    0.0035    0.0085    0.0375    0.0079    0.0168
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0576    0.0353    0.0354    0.0580    0.0206    0.0631    0.0273    0.0454    0.0276    0.0221    0.0526    0.0199    0.0318    0.0120    0.0224    0.0294    0.0235    0.0125    0.0195    0.0162
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0595    0.0672    0.0180    0.0113    0.0393    0.0473    0.0127    0.0312    0.0269    0.0342    0.0088    0.0298    0.0289    0.0094    0.0284    0.0082    0.0141    0.0205    0.0329    0.0175
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0547    0.0503    0.0263    0.0212    0.0176    0.0056    0.0511    0.0100    0.0112    0.0119    0.0249    0.0266    0.0300    0.0313    0.0332    0.0160    0.0119    0.0566    0.0386    0.0297
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0150    0.0402    0.0438    0.0326    0.0402    0.0379    0.0325    0.0475    0.0192    0.0278    0.0273    0.0236    0.0580    0.0621    0.0415    0.0421    0.0212    0.0186    0.0285    0.0365    0.0200
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0318    0.0684    0.0483    0.0779    0.0515    0.0442    0.0370    0.0467    0.0147    0.0488    0.0157    0.0165    0.0764    0.0461    0.0151    0.0447    0.0373    0.0321    0.0169    0.0126    0.0166
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0070    0.0437    0.0326    0.0268    0.0474    0.0137    0.0569    0.0276    0.0346    0.0336    0.0272    0.0248    0.0344    0.0388    0.0205    0.0161    0.0095    0.0159    0.0124    0.0180    0.0249
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0283    0.0264    0.0366    0.0233    0.0260    0.0229    0.0119    0.0439    0.0579    0.0387    0.0128    0.0328    0.0418    0.0411    0.0589    0.0109    0.0176    0.0250    0.0077    0.0181    0.0109    0.0194
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0369    0.0258    0.0076    0.0166    0.0499    0.0386    0.0492    0.0372    0.0115    0.0212    0.0373    0.0226    0.0803    0.0337    0.0541    0.0369    0.0397    0.0405    0.0332    0.0238    0.0221    0.0289
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0220    0.0361    0.0411    0.0512    0.0094    0.0442    0.0152    0.0258    0.0273    0.0245    0.0591    0.0272    0.0168    0.0483    0.0530    0.0170    0.0281    0.0182    0.0129    0.0309    0.0116    0.0033
         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0         0    0.0589    0.0290    0.0270    0.0548    0.0363    0.0339    0.0034    0.0074    0.0359    0.0209    0.0346    0.0518    0.0727    0.0220    0.0460    0.0671    0.0218    0.0138    0.0055    0.0111    0.0269    0.0084    0.0095

```

```matlab
viewst(abmskedFFT)
sbs(2,3).CLim = sbs(1,2).CLim
```

```matlabTextOutput
sbs = 
  2x3 Axes array:

    Axes    Axes    Axes
    Axes    Axes    Axes

```

```matlab

f.CurrentAxes = sbs(2,2)
```

```matlabTextOutput
f = 
  Figure (3) with properties:

      Number: 3
        Name: ''
       Color: [1 1 1]
    Position: [423 230 560 337.3557]
       Units: 'pixels'

  Show all properties

```

```matlab
ffiltZ = ifft2(mskedFFT)
```

```matlabTextOutput
ffiltZ = 561x621
    0.0032    0.0008    0.0000    0.0012    0.0043    0.0088    0.0139    0.0185    0.0218    0.0230    0.0222    0.0195    0.0157    0.0117    0.0082    0.0059    0.0052    0.0060    0.0078    0.0101    0.0121    0.0135    0.0138    0.0130    0.0112    0.0089    0.0065    0.0044    0.0030    0.0025    0.0028    0.0039    0.0055    0.0074    0.0093    0.0108    0.0117    0.0120    0.0115    0.0102    0.0083    0.0060    0.0035    0.0012   -0.0007   -0.0018   -0.0020   -0.0011    0.0008    0.0033
    0.0025   -0.0004   -0.0013    0.0003    0.0043    0.0099    0.0161    0.0215    0.0252    0.0261    0.0242    0.0199    0.0138    0.0074    0.0018   -0.0020   -0.0032   -0.0018    0.0018    0.0069    0.0125    0.0174    0.0209    0.0224    0.0218    0.0192    0.0153    0.0107    0.0062    0.0026    0.0004   -0.0001    0.0011    0.0037    0.0072    0.0111    0.0146    0.0171    0.0182    0.0176    0.0152    0.0114    0.0068    0.0020   -0.0022   -0.0052   -0.0063   -0.0054   -0.0026    0.0017
    0.0002   -0.0032   -0.0042   -0.0022    0.0025    0.0092    0.0165    0.0229    0.0271    0.0280    0.0254    0.0196    0.0116    0.0029   -0.0049   -0.0103   -0.0123   -0.0106   -0.0055    0.0021    0.0108    0.0192    0.0259    0.0298    0.0304    0.0278    0.0224    0.0154    0.0079    0.0012   -0.0036   -0.0057   -0.0051   -0.0017    0.0036    0.0100    0.0162    0.0212    0.0241    0.0242    0.0215    0.0163    0.0096    0.0023   -0.0043   -0.0092   -0.0114   -0.0105   -0.0068   -0.0007
   -0.0035   -0.0073   -0.0083   -0.0061   -0.0008    0.0068    0.0150    0.0224    0.0273    0.0286    0.0256    0.0189    0.0094   -0.0011   -0.0108   -0.0179   -0.0209   -0.0194   -0.0134   -0.0040    0.0073    0.0186    0.0281    0.0342    0.0360    0.0334    0.0270    0.0180    0.0079   -0.0015   -0.0086   -0.0123   -0.0120   -0.0080   -0.0010    0.0076    0.0164    0.0236    0.0281    0.0290    0.0260    0.0198    0.0111    0.0017   -0.0071   -0.0136   -0.0168   -0.0161   -0.0115   -0.0039
   -0.0082   -0.0123   -0.0133   -0.0110   -0.0053    0.0027    0.0118    0.0200    0.0257    0.0275    0.0247    0.0177    0.0075   -0.0043   -0.0154   -0.0238   -0.0279   -0.0269   -0.0208   -0.0105    0.0024    0.0156    0.0270    0.0348    0.0377    0.0354    0.0284    0.0180    0.0061   -0.0053   -0.0141   -0.0189   -0.0191   -0.0146   -0.0063    0.0041    0.0148    0.0238    0.0296    0.0311    0.0281    0.0210    0.0110   -0.0001   -0.0105   -0.0183   -0.0223   -0.0216   -0.0164   -0.0076
   -0.0134   -0.0175   -0.0187   -0.0164   -0.0107   -0.0025    0.0069    0.0156    0.0220    0.0244    0.0223    0.0157    0.0055   -0.0066   -0.0183   -0.0277   -0.0328   -0.0327   -0.0270   -0.0168   -0.0036    0.0104    0.0228    0.0316    0.0353    0.0334    0.0263    0.0154    0.0026   -0.0098   -0.0195   -0.0251   -0.0254   -0.0207   -0.0118   -0.0004    0.0115    0.0216    0.0282    0.0301    0.0271    0.0196    0.0089   -0.0031   -0.0144   -0.0229   -0.0273   -0.0267   -0.0212   -0.0117
   -0.0186   -0.0224   -0.0236   -0.0215   -0.0162   -0.0083    0.0009    0.0096    0.0163    0.0195    0.0183    0.0126    0.0033   -0.0082   -0.0198   -0.0294   -0.0352   -0.0360   -0.0315   -0.0222   -0.0098    0.0038    0.0161    0.0252    0.0293    0.0279    0.0212    0.0106   -0.0020   -0.0144   -0.0243   -0.0299   -0.0304   -0.0258   -0.0168   -0.0053    0.0068    0.0171    0.0239    0.0260    0.0231    0.0157    0.0050   -0.0070   -0.0183   -0.0269   -0.0313   -0.0308   -0.0254   -0.0160
   -0.0229   -0.0262   -0.0273   -0.0255   -0.0208   -0.0138   -0.0055    0.0028    0.0094    0.0130    0.0128    0.0085    0.0007   -0.0093   -0.0198   -0.0290   -0.0350   -0.0367   -0.0336   -0.0260   -0.0153   -0.0033    0.0080    0.0165    0.0206    0.0198    0.0141    0.0046   -0.0069   -0.0183   -0.0275   -0.0328   -0.0334   -0.0290   -0.0207   -0.0100    0.0013    0.0110    0.0174    0.0195    0.0168    0.0100    0.0001   -0.0110   -0.0215   -0.0295   -0.0337   -0.0334   -0.0285   -0.0198
   -0.0255   -0.0281   -0.0288   -0.0274   -0.0236   -0.0179   -0.0110   -0.0039    0.0020    0.0058    0.0065    0.0038   -0.0018   -0.0097   -0.0183   -0.0263   -0.0319   -0.0343   -0.0327   -0.0273   -0.0191   -0.0095   -0.0002    0.0070    0.0109    0.0105    0.0061   -0.0016   -0.0111   -0.0207   -0.0284   -0.0330   -0.0335   -0.0298   -0.0228   -0.0136   -0.0040    0.0043    0.0098    0.0116    0.0093    0.0035   -0.0048   -0.0142   -0.0231   -0.0300   -0.0337   -0.0336   -0.0297   -0.0225
   -0.0259   -0.0273   -0.0275   -0.0264   -0.0236   -0.0195   -0.0145   -0.0092   -0.0044   -0.0010    0.0004   -0.0006   -0.0039   -0.0090   -0.0151   -0.0211   -0.0259   -0.0285   -0.0284   -0.0255   -0.0202   -0.0137   -0.0070   -0.0016    0.0016    0.0017   -0.0012   -0.0066   -0.0135   -0.0206   -0.0264   -0.0298   -0.0302   -0.0275   -0.0222   -0.0152   -0.0080   -0.0017    0.0024    0.0037    0.0021   -0.0023   -0.0085   -0.0156   -0.0223   -0.0276   -0.0305   -0.0307   -0.0281   -0.0231
   -0.0233   -0.0233   -0.0229   -0.0219   -0.0202   -0.0179   -0.0151   -0.0119   -0.0088   -0.0062   -0.0044   -0.0039   -0.0047   -0.0069   -0.0100   -0.0136   -0.0169   -0.0194   -0.0206   -0.0201   -0.0181   -0.0149   -0.0113   -0.0080   -0.0058   -0.0053   -0.0065   -0.0094   -0.0133   -0.0174   -0.0209   -0.0230   -0.0233   -0.0216   -0.0184   -0.0142   -0.0097   -0.0059   -0.0034   -0.0026   -0.0036   -0.0063   -0.0100   -0.0142   -0.0184   -0.0217   -0.0238   -0.0244   -0.0234   -0.0209
   -0.0178   -0.0163   -0.0151   -0.0141   -0.0134   -0.0129   -0.0123   -0.0115   -0.0104   -0.0089   -0.0071   -0.0053   -0.0039   -0.0030   -0.0029   -0.0038   -0.0054   -0.0074   -0.0096   -0.0114   -0.0125   -0.0129   -0.0125   -0.0116   -0.0105   -0.0096   -0.0092   -0.0094   -0.0101   -0.0111   -0.0121   -0.0127   -0.0129   -0.0124   -0.0114   -0.0101   -0.0087   -0.0075   -0.0068   -0.0066   -0.0069   -0.0077   -0.0087   -0.0099   -0.0112   -0.0125   -0.0136   -0.0146   -0.0153   -0.0155
   -0.0096   -0.0068   -0.0048   -0.0038   -0.0039   -0.0050   -0.0066   -0.0082   -0.0092   -0.0090   -0.0075   -0.0048   -0.0012    0.0025    0.0057    0.0076    0.0079    0.0065    0.0036   -0.0002   -0.0044   -0.0081   -0.0108   -0.0123   -0.0123   -0.0112   -0.0092   -0.0068   -0.0043   -0.0022   -0.0007    0.0001    0.0001   -0.0005   -0.0017   -0.0033   -0.0050   -0.0065   -0.0076   -0.0080   -0.0076   -0.0065   -0.0048   -0.0030   -0.0014   -0.0006   -0.0008   -0.0021   -0.0044   -0.0073
    0.0002    0.0040    0.0067    0.0078    0.0069    0.0044    0.0008   -0.0030   -0.0059   -0.0071   -0.0061   -0.0026    0.0026    0.0088    0.0148    0.0193    0.0215    0.0208    0.0174    0.0119    0.0051   -0.0016   -0.0073   -0.0109   -0.0121   -0.0108   -0.0073   -0.0025    0.0029    0.0079    0.0118    0.0140    0.0143    0.0126    0.0093    0.0050    0.0005   -0.0035   -0.0062   -0.0072   -0.0062   -0.0034    0.0008    0.0054    0.0097    0.0125    0.0134    0.0118    0.0081    0.0029
    0.0103    0.0145    0.0175    0.0185    0.0171    0.0135    0.0083    0.0026   -0.0020   -0.0045   -0.0039   -0.0001    0.0065    0.0147    0.0230    0.0297    0.0336    0.0337    0.0299    0.0230    0.0141    0.0048   -0.0033   -0.0089   -0.0110   -0.0095   -0.0049    0.0021    0.0101    0.0177    0.0237    0.0271    0.0275    0.0250    0.0199    0.0133    0.0064    0.0002   -0.0040   -0.0055   -0.0039    0.0004    0.0066    0.0138    0.0203    0.0250    0.0268    0.0253    0.0205    0.0133

```

```matlab
views(ffiltZ)
```

```matlab
f.CurrentAxes = sbs(2,1)
```

```matlabTextOutput
f = 
  Figure (3) with properties:

      Number: 3
        Name: ''
       Color: [1 1 1]
    Position: [423 230 560 337.3557]
       Units: 'pixels'

  Show all properties

```

```matlab
views(Z-ffiltZ)
```

![figure_0.png](d2025_02_25__16_44_maskedFFT_media/figure_0.png)

```matlab
f.Visible = "on"
```

```matlabTextOutput
f = 
  Figure (3) with properties:

      Number: 3
        Name: ''
       Color: [1 1 1]
    Position: [423 230 560 337.3557]
       Units: 'pixels'

  Show all properties

```

```matlab
f.Position = [0 0 1500 900]
```

![figure_1.png](d2025_02_25__16_44_maskedFFT_media/figure_1.png)

```matlabTextOutput
f = 
  Figure (3) with properties:

      Number: 3
        Name: ''
       Color: [1 1 1]
    Position: [0 0 1500 900]
       Units: 'pixels'

  Show all properties

```


```matlab
% close all
% f = qvisFFT(Z)
% f.CurrentAxes = findobj(f,'tag','abs')
% climsc([0 .01]).Minmax
```


```matlab

function bin = ftCirc(sz,r)
x = (1:sz(1)) - floor(1+sz(1)/2);
y = (1:sz(2)) - floor(1+sz(2)/2);
[X,Y]=meshgrid(x,y);
X = X';Y=Y';
R = sqrt(X.^2+y.^2);
R = ifftshift(R);
bin = R<r;
end
```

```matlab
function f = qvisFFT(raw)
f = figure()
f.Visible ="on";
tns = ["abs" "phase" "real" "imag"];
fcns = {@abs @angle @real @imag};
cmaps = ["gray","hsv","gray","gray"]
p = 0;
for ind = 1:2
    for jsb = 1:2
        p = p + 1;
        sbs(p) = subplot(2,2,p);
        title(tns(p));        
        views(fftshift(fcns{p}(fft2(raw))));
        title(tns(p));
        ax = gca();ax.Tag = tns(p);
        colormap(sbs(p),cmaps(p));
        colorbar;
    end
end
end
```

```matlab
function titlet(str)
title(str)
ax = gca;
ax.Tag = str;
end
```

```matlab
function viewst(img)
views(fftshift(img))
end
```
